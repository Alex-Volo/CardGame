(()=>{"use strict";var t={177:(t,e,a)=>{a.r(e)}},e={};function a(n){var c=e[n];if(void 0!==c)return c.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var c=n.length-1;c>-1&&!t;)t=n[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})();var n={};(()=>{a.d(n,{D:()=>w});const t=["♠","♣","♥","♦"],e=["6","7","8","9","10","J","Q","K","A"].reduce(((e,a)=>{for(let n of t)e.push({value:a,suit:n});return e}),[]);class c{constructor(){this.cards=e}shuffle(){for(let t=this.cards.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[this.cards[t],this.cards[e]]=[this.cards[e],this.cards[t]]}return this}cut(t=3){return this.cards=this.cards.slice(0,t),this}double(){return this.cards=[this.cards,...this.cards].flat(),this}}const r=a.p+"cd0a802e97b870f76655.svg",i=a.p+"b70f04120bc40abeead5.svg",s=a.p+"5f7200aaf768dfa663ec.svg",d={"♠":r,"♣":i,"♥":a.p+"c1b3e001283bca6dfff2.svg","♦":s};let o=0;function l(t){clearInterval(window.cardGame.timerInterval),o=0;const e=document.querySelector(".game__digits").textContent;console.log(e),window.cardGame.status="result",w(window.cardGame.status,e,t)}a.p;const u=a.p+"38e8153adfebe645ff94.png",f=a.p+"28e81f0d60c8475bbdc5.png";a(177),window.cardGame={},window.cardGame.firstCard={value:0,suit:0},window.cardGame.secondCard={value:0,suit:0};const m=document.querySelector(".app-container"),v={выиграли:f,проиграли:u};function w(t=0,e=0,a){switch(t){default:m.innerHTML='\n                <div class="difficulty">\n                    <h1 class="difficulty__heading">Выбери<br>сложность</h1>\n                    <div class="difficulty__selection">\n                        <button class="difficulty__selection-item">1</button>\n                        <button class="difficulty__selection-item">2</button>\n                        <button class="difficulty__selection-item">3</button>\n                    </div>\n                    <button class="btn start-button">Старт</button>\n                </div>\n            ';break;case"game":m.style.flexDirection="column",m.innerHTML=`\n            <div class="game">\n                <div class="game__header">\n                    <div class="game__timer">\n                        <div class="game__min-sec">min</div>\n                        <div class="game__min-sec">sec</div>\n                        <div class="game__digits">00.00</div>\n                    </div>\n                    <button class="btn again_btn">Начать заново</button>\n                </div>\n                <div class="game__field">\n                </div>\n            </div>\n            <p>Сложность ${window.cardGame.difficulty}</p>\n            <button class="btn back_btn">Назад</button>\n            `,function(t=1){clearInterval(window.cardGame.timerInterval),clearInterval(window.cardGame.countdownInterval),clearTimeout(window.cardGame.flipTimeout);const e=new c;window.cardGame.currentDeck=e.shuffle().cut([3,3,6,9][+t]).double().shuffle(),function(t){const e=document.querySelector(".game__field");e.innerHTML="";for(let a of t.cards)e.innerHTML=e.innerHTML+`        \n        <div data-value=${a.value} data-suit=${a.suit} class="card" >\n            <div class="card__back"></div>\n            <div class="card__face" style="background: url('${d[a.suit]}') center center no-repeat, rgb(255, 255, 255);">\n                <div class="card__top">    \n                    <div class="card__value">${a.value}\n                    </div>\n                    <img class="card__suit" src="${d[a.suit]}" alt="suit">\n                </div>\n                <div class="card__bottom">    \n                    <div class="card__value">${a.value}\n                    </div>\n                    <img class="card__suit" src="${d[a.suit]}" alt="suit">\n                </div>\n            </div>\n        </div>\n        `}(e),window.cardGame.flipTimeout=setTimeout((()=>{!function(){const t=document.body.querySelectorAll(".card");for(let e of t){const t=e.querySelector(".card__face"),a=e.querySelector(".card__back");t.classList.add("card__flip-face"),a.classList.add("card__flip-back")}}(),function(){const t=document.body.querySelectorAll(".card");for(let a of t)a.addEventListener("click",e);function e(t){const a=t.srcElement.closest(".card"),n=a.querySelector(".card__face"),c=a.querySelector(".card__back");n.classList.add("card__flip-face1"),c.classList.add("card__flip-back1"),setTimeout((function(){window.cardGame.firstCard.value?(window.cardGame.secondCard={value:a.dataset.value,suit:a.dataset.suit},o++,a.removeEventListener("click",e),window.cardGame.firstCard.value===window.cardGame.secondCard.value&&window.cardGame.firstCard.suit===window.cardGame.secondCard.suit||l("проиграли"),window.cardGame.firstCard={value:0,suit:0},window.cardGame.secondCard={value:0,suit:0}):(window.cardGame.firstCard={value:a.dataset.value,suit:a.dataset.suit},o++,a.removeEventListener("click",e)),o===window.cardGame.currentDeck.cards.length&&l("выиграли")}),800)}}()}),5e3),function(){const t=document.querySelector(".game__timer"),e=document.createElement("div");e.classList.add("game__countdown"),e.textContent="5",t.after(e),window.cardGame.countdownInterval=setInterval((()=>{e.textContent>1?e.textContent-=1:(clearInterval(window.cardGame.countdownInterval),e.textContent="Start",setTimeout((()=>e.textContent=""),1e3),function(){const t=document.querySelector(".game__digits");let e=0;window.cardGame.timerInterval=setInterval((function(){e+=1;const a=("00"+Math.round(e/60)).slice(-2),n=("00"+e%60).slice(-2);t.textContent=`${a}.${n}`}),1e3),setTimeout(clearInterval,6e5,window.cardGame.timerInterval)}())}),1e3)}()}(window.cardGame.difficulty);break;case"result":m.innerHTML=m.innerHTML+`<div class="shadow"></div>\n                <div class="difficulty result">\n                    <img src="${v[a]}" alt="result" class="result__img">\n                    <h1 class="result__heading">Вы ${a}!</h1>\n                    <p class="result__text">Затраченное время:</p>\n                    <p class="result__time">${e}</p>\n                    <button class="btn result__again-btn">Играть снова</button>\n                </div>\n                `}m.addEventListener("click",(t=>{const e=m.querySelectorAll(".difficulty__selection-item"),a=m.querySelector(".start-button"),n=m.querySelector(".back_btn"),c=m.querySelector(".again_btn"),r=m.querySelector(".result__again-btn");switch(!0){case t.target.classList.contains("difficulty__selection-item"):window.cardGame.difficulty="1";for(let t of e)t.addEventListener("click",(()=>{e.forEach((t=>t.classList.remove("difficulty__selection-item_checked")))}));t.target.classList.add("difficulty__selection-item_checked"),window.cardGame.difficulty=t.target.textContent;break;case t.target===a:window.cardGame.status="game",w(window.cardGame.status);break;case t.target===n:window.cardGame.status=null,w(window.cardGame.status);break;case t.target===c:window.cardGame.firstCard={value:0,suit:0},w(window.cardGame.status);break;case t.target===r:window.cardGame.status=null,w(window.cardGame.status)}}))}w(window.cardGame.status)})()})();